# EdenForge 업데이트 내역

## 2025-01-XX - 프로젝트 초기 설정

### 추가된 파일들
- `package.json`: 프로젝트 의존성 및 스크립트 정의
- `vite.config.ts`: Vite 빌드 설정
- `tsconfig.json`, `tsconfig.node.json`: TypeScript 설정
- `public/index.html`, `index.html`: HTML 진입점
- `src/types/index.ts`: 핵심 TypeScript 인터페이스 정의 (로그 시스템, 액션 타입, 파벌 시스템 추가)
- `src/core/utils/index.ts`: 유틸리티 함수들 (RNG, 벡터 연산, 수학 함수)
- `src/core/utils/logger.ts`: 로그 시스템 유틸리티
- `src/core/world.ts`: 월드 시스템 핵심 로직 (엔티티 시스템, 파벌 시스템 통합)
- `src/core/material.ts`: 재료 시스템 (조합, 발견)
- `src/core/entity.ts`: 고도화된 엔티티 시스템 (Stim/욕구 기반 AI)
- `src/core/combat.ts`: 전투 시스템 (무기/방어구, 전투 스킬)
- `src/core/faction.ts`: 파벌 시스템 (파벌 관리, 관계, 전투)
- `src/core/genetics.ts`: 유전 시스템 (유전자 전달, 돌연변이, 특성)
- `src/core/learning.ts`: 학습 시스템 (경험 기반 학습, 가르치기)
- `src/core/ecosystem.ts`: 생태계 시스템 (동물/식물, Pulse, 바이옴)
- `src/main.tsx`: React 앱 진입점
- `src/App.tsx`: 메인 App 컴포넌트 (통합 패널, 파벌 패널, 유전 패널, 생태계 패널 추가)
- `src/components/CanvasLayer.tsx`: 캔버스 렌더링 컴포넌트 (파벌 색상 구분, 동물/식물/Pulse 렌더링)
- `src/components/HUD.tsx`: 게임 HUD 컴포넌트
- `src/components/LogPanel.tsx`: 실시간 로그 표시 패널
- `src/components/UnifiedPanel.tsx`: 통합 패널 (재료/엔티티 탭, 검색/필터링)
- `src/components/FactionPanel.tsx`: 파벌 관리 패널 (파벌 정보, 멤버, 관계, 통계)
- `src/components/GeneticsPanel.tsx`: 유전 관리 패널 (유전 특성, 학습 경험, 스킬)
- `src/components/EcosystemPanel.tsx`: 생태계 관리 패널 (동물/식물 정보, Pulse, 바이옴)
- `src/components/DraggablePanel.tsx`: 드래그 가능한 패널 컴포넌트 (상단바 드래그, 닫기 버튼)
- `src/components/TabManager.tsx`: 하단 탭 관리 컴포넌트 (5개 패널 관리)
- `src/core/emotion.ts`: 감정 시스템 (감정 상태 계산, 이모지 말풍선)
- `src/styles/index.css`: 기본 CSS 스타일
- `src/styles/App.css`: App 컴포넌트 전용 스타일 (드래그 패널, 탭 바, 패널 스타일 추가)
- `README.md`: 프로젝트 문서

### 구현된 기능
1. **기본 프로젝트 구조**: Vite + React + TypeScript 설정
2. **월드 시스템**: 엔티티 생성, 기본 AI 행동 (Gather, Rest, Move)
3. **캔버스 렌더링**: 엔티티를 색상별로 표시, HP 상태 표시
4. **HUD**: 엔티티 수, Tick, 일시정지/재생, 속도 조절
5. **타입 시스템**: Entity, Material, WorldState 등 핵심 타입 정의
6. **유틸리티**: RNG, 벡터 연산, 수학 함수들
7. **로그 시스템**: 실시간 게임 이벤트 로깅 및 표시
8. **재료 시스템**: 기본 재료 + 자동 조합 시스템
9. **재료 도감**: 발견된 재료들을 티어별로 표시
10. **통합 패널**: 재료와 엔티티 정보를 탭으로 구분, 검색/필터링 기능
11. **고도화된 엔티티 시스템**: Stim/욕구 기반 AI 의사결정
12. **다양한 행동**: Gather, Eat, Rest, Move, Craft, Build, Research, Social, Trade, Mate
13. **학습 시스템**: 행동에 따른 스킬 향상 및 성향 변화
14. **사망 시스템**: HP, 배고픔, 나이에 따른 사망 처리
15. **전투 시스템**: 엔티티 간 전투, 무기/방어구 시스템, 전투 스킬
16. **파벌 시스템**: 파벌 생성/관리, 멤버 관리, 파벌 간 관계, 전투
17. **파벌 UI**: 파벌 정보 표시, 멤버 목록, 관계 표시, 통계
18. **파벌 렌더링**: 캔버스에서 파벌별 색상 구분, 리더 표시
19. **유전 시스템**: 유전자 전달, 돌연변이, 유전 특성, 세대 간 전승
20. **학습 시스템**: 경험 기반 학습, 가르치기, 스킬 향상, 지식 획득
21. **유전 UI**: 유전 특성, 학습 경험, 스킬 수준, 후성유전 표시
22. **생태계 시스템**: 동물/식물 시스템, Pulse 시스템, 포식/경쟁 관계
23. **생태계 UI**: 동물/식물 정보, Pulse 상태, 바이옴 정보 표시
24. **생태계 렌더링**: 캔버스에서 동물/식물/Pulse 시각화
25. **드래그 가능한 패널 시스템**: 상단바 드래그, 우상단 닫기 버튼
26. **하단 탭 관리 시스템**: 5개 패널을 하단 탭으로 관리
27. **감정 시스템**: 엔티티 감정 상태 계산, 이모지 말풍선 생성
28. **이모지 말풍선 렌더링**: 행동/감정/생각/대화 말풍선 시각화
29. **상세 모달 시스템**: 엔티티/물질/파벌/동물/식물 상세 정보 표시
30. **패널 드래그 기능 개선**: 실시간 위치 업데이트 및 저장
31. **말풍선 시스템 최적화**: 상호작용 시에만 말풍선 표시
32. **성능 최적화**: 말풍선 생성 제한, 렌더링 최적화, 틱 속도 조정
33. **UI/UX 개선**: 통합 패널 드래그 수정, 속도 조정, 로그 시스템 개선
34. **통계 시스템**: 상세 통계 패널 구현, 소수점 두 자리 표시
35. **GitHub Pages 배포**: 자동 배포 설정, 라이브 데모 준비
36. **패널 크기 확장**: 모든 패널을 500x600으로 확장
37. **통계 패널 개선**: 6개 탭으로 구분된 상세 통계 시스템
38. **엔티티 시스템 문서화**: docs/ENTITY_SYSTEMS.md 상세 문서 작성
39. **로그 패널 개선**: 필터링 기능, 검색 기능, 카테고리별 분류 추가
40. **차트 시스템 구현**: recharts 라이브러리로 6가지 차트 유형 구현
41. **생태계 상호작용 개선**: 스탯/스킬/지식 기반 상호작용, 식물 수 제한
42. **맵 컨트롤 시스템**: 드래그/확대/축소, 패딩, 컨트롤 버튼 추가
43. **엔티티 사망 시스템 개선**: 상세한 사망 로그 추가
44. **생태계 포식 시스템 확장**: 인간-동물-식물 간 포식 관계, 식물 수 제한 제거, 적극적 섭취 시스템
45. **로그 시스템 개선**: 분류별 로그 제한 (각 분류당 1000개), 전체 로그 제한 (5000개)
46. **엔티티 이름 시스템 개선**: 랜덤 알파벳/숫자/특수문자 조합 이름 생성, 종족별 접두사/접미사 적용
47. **파벌 시스템 대폭 개선**: 랜덤 파벌 이름 생성, 파벌 간 상호작용(전쟁/거래/동맹), 흥망성쇠 시스템, 새로운 파벌 자동 생성
48. **통계 시스템 개선**: 인구 변화를 시간순 점선 그래프로 표시, 재료 시스템 동적 티어 지원(상위 8개 티어), 통합 패널 필터링 동적 티어 지원
49. **파벌 시스템 버그 수정**: 기술력 NaN 문제 해결, 인구수 0일 때 파벌 자동 삭제, 엔티티 상세 정보 스탯 소수점 2자리 표시
50. **유전 탭 대폭 개선**: 가족 트리 시각화, 선조 데이터 추이 그래프, 세대별 특성 분포 차트, 부모-자식 관계 추적 시스템
51. **로그 시스템 개선**: 각 카테고리별로 1000개씩 독립적으로 보관, 카테고리별 로그 수 표시, 실시간 로그 통계
52. **인구 그래프 개선**: 시간 범위 선택 기능 (50/100/200/500/1000 틱), 기본값 100 틱으로 증가, 실시간 데이터 포인트 수 표시
53. **플로팅 패널 시스템**: 드래그 가능한 게임 정보 패널, 말풍선 필터링 패널, 우하단 토글 버튼, 패널 겹침 방지
54. **플로팅 패널 개선**: 드래그 기능 수정, 게임 정보 패널 크기 확대, 말풍선 필터 검색 기능 및 적용 버튼 추가
55. **감정 시스템 대폭 확장**: 6개에서 22개 감정으로 확장 (행복, 공포, 분노, 호기심, 만족, 스트레스, 흥미, 슬픔, 불안, 기쁨, 좌절, 자부심, 외로움, 희망, 절망, 평온, 짜증, 감사, 질투, 자신감, 혼란, 의지), 세밀한 감정 계산 로직 구현
56. **UI 투명도 문제 수정**: 드롭다운 메뉴, 검색 입력 필드, 선택지들의 배경색을 `#2a2a2a`로 변경하고 테두리를 `#4ecdc4`로 개선하여 가시성 향상
57. **말풍선 필터링 및 로그 시스템 개선**: 말풍선 필터링 기능 완전 구현, 전투/유전 활동 확률 증가 (전투 10%, 교배 15%), 엔티티 간 호환성 계산 시스템 추가
58. **GitHub Pages 배포 완료**: 자동 배포 시스템 구축, TypeScript 컴파일 오류 수정, 라이브 데모 URL 제공
59. **엔티티 생명주기 로그 시스템 대폭 개선**: 엔티티 탄생/사망/제거에 대한 상세한 로그 추가, 사망 원인별 분류 (HP 부족, 극심한 배고픔, 노화, 전투), 전투 사망 시 공격자/무기/데미지 정보 포함, 동물/식물 생명주기 로그도 개선
60. **오류 수정 및 안정성 개선**: entity.ts의 undefined 오류 수정, ChartsPanel의 함수 초기화 순서 문제 해결, 안전한 배열 접근 처리 추가

### 다음 단계
- Web Worker 마이그레이션
- 성능 최적화
- UI/UX 개선
- 밸런싱 패스

### 기술적 세부사항
- **성능**: 현재 24개 엔티티로 기본 테스트
- **렌더링**: Canvas 2D 사용, 60fps 목표
- **아키텍처**: 순수 로직(core/)과 UI(components/) 분리
- **타입 안전성**: TypeScript로 모든 핵심 타입 정의

### 해결된 문제들
- `yield` 예약어 충돌 해결 (yieldAmount로 변경)
- 기본 폴더 구조 생성
- 의존성 설치 완료
- 개발 서버 실행 가능

--- 